<div class="flex flex-col items-center justify-center  px-0 md:px-4 py-6 space-y-6 h-screen w-full">
  <!-- Level Header -->
  <!-- Win Modal -->
  @if (showWinModal) {
  <div class="fixed inset-0 bg-black/60 flex items-center  h-screen w-full justify-center z-50">
    <div class="bg-[#FFF3E9] p-8 rounded-2xl shadow-xl text-center space-y-4 max-w-sm w-full mx-4">
      <h2 class="text-2xl font-semibold text-[#3A291C]">ðŸŽ‰ Puzzle Completed!</h2>
      <p class="text-[#6F4E37]">You solved the puzzle successfully! What would you like to do next?</p>

      <div class="flex flex-col gap-3 mt-6">
        <button class="bg-[#6F4E37] text-white py-2 rounded-lg hover:bg-[#5a3e2c] transition-colors"
          (click)="startNewGame()">
          New Puzzle
        </button>
        <button class="border border-[#6F4E37] text-[#6F4E37] py-2 rounded-lg hover:bg-[#F6E3D3] transition-colors"
          (click)="onChangeLevelClick()">
          Change Level
        </button>
      </div>
    </div>
  </div>
  }


  <h2 class="text-2xl font-semibold text-[#3a291c]   text-center">
    Level: {{ level | titlecase }}
  </h2>
 <div class="h-6 flex items-center justify-center text-center">
      @if (hintMessage) {
      <p class="text-[#3a291c] italic hint-animate  max-w-sm ">
        {{ hintMessage }}
      </p>
      }
    </div>

  <!-- Main Grid Wrapper -->
  <div class="grid grid-cols-1 xl:grid-cols-2 gap-6 w-full max-w-6xl items-start xl:items-center">
    <!-- Sudoku Board -->
   
    <div
      class="grid grid-cols-9 grid-rows-9 border-2  border-[#6F4E37]  w-full max-w-[360px] sm:max-w-[420px] md:max-w-[600px] mx-auto">
      @for (row of board; track $index; let rowIndex = $index) {
      <div class="contents">
        @for (cell of row; track $index; let colIndex = $index) {
        <app-cell [value]="cell" [rowIndex]="rowIndex" [colIndex]="colIndex"
          [isInvalid]="invalidCells[rowIndex][colIndex]" (userInput)="onCellInput(rowIndex, colIndex, $event)"
          (click)="selectCell(rowIndex, colIndex)" [highlightedCell]="highlightedCell"></app-cell>
        }
      </div>
      }
    </div>

    <!-- Controls -->
    <div class="flex flex-col justify-center items-center w-full space-y-6">

      <!-- Number Buttons -->
      <div class="flex flex-wrap justify-center gap-3 max-w-[300px]">
        @for (number of numbers; track $index) {
        <app-button text="{{ number }}" (click)="onNumberSelected(number)"></app-button>
        }
        <app-button text="X" (click)="onNumberSelected(0)"></app-button>
      </div>

      <!-- Action Buttons -->
      <div class="flex flex-wrap justify-center gap-4">
        <button
          class="bg-[#6F4E37] text-white px-5 py-2 rounded-lg transition-colors duration-200 hover:bg-[#5a3e2c] w-28 text-center"
          (click)="resetBoard()">
          Reset
        </button>
        <!-- <button
          class="bg-[#6F4E37] text-white px-5 py-2 rounded-lg transition-colors duration-200 hover:bg-[#5a3e2c] w-28 text-center"
          (click)="solveBoard()">
          Solve
        </button> -->
        <button
          class="bg-[#6F4E37] text-white px-5 py-2 rounded-lg transition-colors duration-200 hover:bg-[#5a3e2c] w-28 text-center"
          (click)="requestHint()">
          Hint
        </button>

      </div>
    </div>
  </div>
</div>